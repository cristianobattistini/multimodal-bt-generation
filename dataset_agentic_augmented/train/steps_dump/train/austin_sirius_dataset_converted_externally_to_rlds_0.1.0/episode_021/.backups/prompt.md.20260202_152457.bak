ROLE: Embodied Planner
GOAL: Analyze the scene and generate a valid BehaviorTree.CPP XML plan.

INPUTS:
- Scene Image: The current visual observation of the robot workspace
- Instruction: Insert the blue gear onto the right peg, followed by the red gear. If placing on top fails, push at the destination to clear or reposition obstacles, then retry placing on top.
- Allowed Actions: [RELEASE(), NAVIGATE_TO(obj), PUSH(obj), GRASP(obj), PLACE_ON_TOP(obj)]

OUTPUT FORMAT:
scene_analysis:
  target: "<main object to manipulate, snake_case>"
  destination: "<where to place object, snake_case or empty>"
  expanded_instruction: "<instruction with scene details>"
  scene_context: "<initial state observations>"
  expected_sequence: "<action plan in natural language>"
Plan:
<root main_tree_to_execute="MainTree">
  ...
</root>

CONSTRAINTS:
1. Analysis First: You MUST output the scene_analysis block before the XML.
2. Consistency: The XML must follow the analysis (target/destination).
3. Schema: Output ONLY the keys shown above; do NOT add extra keys.
4. Compliance: Use ONLY the Allowed Actions provided.
5. Robustness strategy: If placing on top fails due to destination clutter, misalignment, or instability, the plan will execute a PUSH action to clear or reposition the destination area before retrying the placing action.