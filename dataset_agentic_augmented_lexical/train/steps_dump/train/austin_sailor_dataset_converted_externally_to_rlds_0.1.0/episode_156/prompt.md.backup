ROLE: Embodied Planner
GOAL: Analyze the scene and generate a valid BehaviorTree.CPP XML plan.

INPUTS:
- Scene Image: The current visual observation of the robot workspace
- Instruction: Place the pan onto the stove and place the fish and sausage into the pan. Retry placing inside up to 3 times if it fails.
- Allowed Actions: [NAVIGATE_TO(obj), PLACE_INSIDE(obj), GRASP(obj), PLACE_ON_TOP(obj)]

OUTPUT FORMAT:
scene_analysis:
  target: "pan"
  destination: "stove"
  expanded_instruction: "Pick up the pan, place it onto the stove, then pick up the fish and the sausage and place them into the pan. Retry placing inside up to 3 times if it fails."
  scene_context: "Pan is on the table; stove is nearby. Fish and sausage are on the countertop separate from the pan. Robot has free grasping capability."
  expected_sequence: "Navigate to pan, grasp pan, navigate to stove, place pan on stove, release; navigate to fish, grasp fish, navigate to pan, attempt to place fish into pan (retry up to 3 times if necessary), release; navigate to sausage, grasp sausage, navigate to pan, attempt to place sausage into pan (retry up to 3 times if necessary), release."
Plan:
<root main_tree_to_execute="MainTree">
  <BehaviorTree ID="MainTree">
    <Sequence>
      <!-- Navigate to pan -->
      <Action ID="NAVIGATE_TO" obj="pan"/>
      <!-- Grasp pan -->
      <Action ID="GRASP" obj="pan"/>
      <!-- Navigate to stove -->
      <Action ID="NAVIGATE_TO" obj="stove"/>
      <!-- Place on stove -->
      <Action ID="PLACE_ON_TOP" obj="stove"/>
      <!-- Release -->
      <Action ID="RELEASE"/>
      <!-- Navigate to fish -->
      <Action ID="NAVIGATE_TO" obj="fish"/>
      <!-- Grasp fish -->
      <Action ID="GRASP" obj="fish"/>
      <!-- Navigate to pan -->
      <Action ID="NAVIGATE_TO" obj="pan"/>
      <!-- Place inside pan -->
      <!-- Retry PLACE_INSIDE up to 3 times -->
      <RetryUntilSuccessful num_attempts="3">
        <Action ID="PLACE_INSIDE" obj="pan"/>
      </RetryUntilSuccessful>
      <!-- Release -->
      <Action ID="RELEASE"/>
      <!-- Navigate to sausage -->
      <Action ID="NAVIGATE_TO" obj="sausage"/>
      <!-- Grasp sausage -->
      <Action ID="GRASP" obj="sausage"/>
      <!-- Navigate to pan -->
      <Action ID="NAVIGATE_TO" obj="pan"/>
      <!-- Place inside pan -->
      <!-- Retry PLACE_INSIDE up to 3 times -->
      <RetryUntilSuccessful num_attempts="3">
        <Action ID="PLACE_INSIDE" obj="pan"/>
      </RetryUntilSuccessful>
      <!-- Release -->
      <Action ID="RELEASE"/>
    </Sequence>
  </BehaviorTree>
</root>