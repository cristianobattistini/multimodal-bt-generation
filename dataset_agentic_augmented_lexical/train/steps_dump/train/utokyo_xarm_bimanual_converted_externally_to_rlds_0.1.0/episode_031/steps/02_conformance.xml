<root main_tree_to_execute="MainTree">
  <BehaviorTree ID="MainTree">
    <Sequence>
      <!-- Navigate to wrinkled_towel -->
      <Action ID="NAVIGATE_TO" obj="wrinkled_towel" />
      <!-- Pick wrinkled_towel -->
      <Action ID="PICK" obj="wrinkled_towel" />
      <!-- Navigate to grass_mat -->
      <Action ID="NAVIGATE_TO" obj="grass_mat" />
      <!-- Fallback: if UNFOLD wrinkled_towel fails, try FLIP to reposition -->
      <Fallback>
        <!-- Unfold wrinkled_towel -->
        <Action ID="UNFOLD" obj="wrinkled_towel" />
        <Sequence>
          <!-- Return wrinkled_towel upright (flip) -->
          <Action ID="FLIP" obj="wrinkled_towel" />
          <!-- Unfold wrinkled_towel -->
          <Action ID="EXTEND" obj="wrinkled_towel" />
        </Sequence>
      </Fallback>
      <!-- Place on grass_mat -->
      <Action ID="PLACE_ON_TOP" obj="wrinkled_towel" surface="grass_mat" />
    </Sequence>
  </BehaviorTree>
</root>
