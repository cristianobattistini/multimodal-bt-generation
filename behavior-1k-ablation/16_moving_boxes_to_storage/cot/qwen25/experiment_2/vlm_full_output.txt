scene_analysis:
  target: "["door", "storage_container_1", "storage_container_2"]"
  destination: "garage_floor"
  expanded_instruction: "Open the door by pulling the door handle (if grasp fails retry up to 3 times with a 10s timeout); then navigate to the door (retry up to 3 times with a 10s timeout), approach storage_container_1 (retry up to 3 times with a 10s timeout), reach into storage_container_1, pick it up (if grasp fails retry up to 3 times with a 10s timeout), carry it to the nearby garage_floor (retry up to 3 times with a 10s timeout), and set it down; next, approach storage_container_2, pick up the smaller object from storage_container_2 (if grasp fails retry up to 3 times with a 10s timeout), move to the larger container on the floor, and set it on top."
  scene_context: "Door is closed with handle accessible; storage containers on the floor are closed and reachable; garage_floor area is clear."
  expected_sequence: "Open the door by grasping and pulling the handle (retry up to 3 times within 10s if grasp fails); then open the door and reach to each storage container one at a time (retry up to 3 times within 10s if grasp fails) â€” when grasping the door handle, lift the door outward until fully open; carry items from the containers to the garage_floor and place them down."
Plan:
<root main_tree_to_execute="MainTree">
  <BehaviorTree ID="MainTree">
    <Sequence>
      <!-- Navigate to door -->
      <Action ID="NAVIGATE_TO" obj="door" />
      <!-- Open door (retry up to 3 times; if grasp fails, push to reposition then pull) -->
      <Action ID="OPEN" obj="door" />
      <!-- Open door (retry up to 3 times; if grasp fails, push to reposition then pull) -->
      <Action ID="NAVIGATE_TO" obj="storage_container_1" />
      <!-- Grasp storage_container_1 -->
      <Action ID="GRASP" obj="storage_container_1" />
      <!-- Navigate to garage_floor -->
      <Action ID="NAVIGATE_TO" obj="garage_floor" />
      <!-- Place on garage_floor -->
      <Action ID="PLACE_ON_TOP" obj="garage_floor" />
      <!-- Navigate to storage_container_2 -->
      <Action ID="NAVIGATE_TO" obj="storage_container_2" />
      <!-- Grasp storage_container_2 -->
      <Action ID="GRASP" obj="storage_container_2" />
      <!-- Navigate to storage_container_1 -->
      <Action ID="NAVIGATE_TO" obj="storage_container_1" />
      <!-- Place on top of storage_container_1 -->
      <Action ID="PLACE_ON_TOP" obj="storage_container_1" />
    </Sequence>
  </BehaviorTree>
</root>